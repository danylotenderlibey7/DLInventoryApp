@model DLInventoryApp.ViewModels.Items.CreateItemVm

<h2>Create Item for @Model.InventoryTitle</h2>

<form asp-action="Create"
asp-route-inventoryId="@Model.InventoryId"
method="post">

    @Html.AntiForgeryToken()

    <input type="hidden" asp-for="InventoryId" />

    <div class="mb-3">
        <label asp-for="CustomId" class="form-label"></label>
        <input asp-for="CustomId" class="form-control" readonly />
        <div class="form-text">
            Leave empty to auto-generate.
        </div>

        <span asp-validation-for="CustomId" class="text-danger"></span>
    </div>
    @if (Model.Fields != null)
    {
        @for (int i = 0; i < Model.Fields.Count; i++) 
        {
            <div class="mt-3">
                <div><strong>@Model.Fields[i].Name</strong></div>
                @if (Model.Fields[i].Type == DLInventoryApp.Models.CustomFieldType.SingleLineText)
                {
                    <input asp-for="Fields[@i].TextValue" class="form-control" />
                }
                else if (Model.Fields[i].Type == DLInventoryApp.Models.CustomFieldType.MultiLineText)
                {
                    <textarea asp-for="Fields[@i].TextValue" class="form-control"></textarea>
                }
                else if (Model.Fields[i].Type == DLInventoryApp.Models.CustomFieldType.DocumentLink)
                {
                    <input asp-for="Fields[@i].LinkValue" class="form-control" />
                }
                else if (Model.Fields[i].Type == DLInventoryApp.Models.CustomFieldType.Number)
                {
                    <input asp-for="Fields[@i].NumberValue" type="number" class="form-control" />
                }
                else if (Model.Fields[i].Type == DLInventoryApp.Models.CustomFieldType.Boolean)
                {
                    <input asp-for="Fields[@i].BoolValue" type="checkbox" />
                }
                <input type="hidden" asp-for="Fields[@i].CustomFieldId" />
                <input type="hidden" asp-for="Fields[@i].Type" />
                <input type="hidden" asp-for="Fields[@i].Name" />
            </div>
        }
    }
    <button type="submit">Create</button>
</form>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
